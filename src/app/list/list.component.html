
<div style="margin-top: 5%;">
    <h4>Lista Documenti</h4>

    <table class="table table-striped table-dark">
        <thead style="background-color: #080530;">
            <tr>
              <th scope="col" style="border-right: 1px solid gray;">Titolo</th>
              <th scope="col">Campi</th>
            </tr>
          </thead>
        <ng-container>
            <tr *ngFor="let document of documentList">
                <td colspan="document.optionalValues.length + 1" style="width: 20%; border-right: 1px solid gray; border-bottom: 1px solid gray; border-bottom: 1px solid gray;
                background-color: #f5f5f5;
                color: black;">
                    Documento: <b>{{ document.title }}</b>
                </td>
                <td style="border-bottom: 1px solid gray; border-bottom: 1px solid gray;
                background-color: #f5f5f5;
                color: black;">
                    <div>
                        <tr style="    display: flex;
                        flex-direction: row;
                        align-items: flex-start; justify-content: space-around;" *ngFor="let det of document.optionalValues; let i = index">
                            <!--Display and edit name, type & requried-->
                            <td  *ngIf="selectedDocument.optionalValues.name != det.name">{{det.name}}</td>
                            <td *ngIf="selectedDocument.optionalValues.name === det.name &&
                                 selectedDocument.optionalValues.isRequired === det.isRequired &&
                                 selectedDocument.optionalValues.type === det.type">
                                <input [ngModel]="selectedDocument.optionalValues.name" class="form-control" id="name">
                            </td>
                            <td *ngIf="selectedDocument.optionalValues.name != det.name
                            ">{{det.type}}</td>
                            <td *ngIf="selectedDocument.optionalValues.name === det.name &&
                                selectedDocument.optionalValues.isRequired === det.isRequired &&
                                selectedDocument.optionalValues.type === det.type">
                                <select [ngModel]="selectedDocument.optionalValues.type" id="type" class="form-control">
                                    <option value="" hidden>Seleziona la tipologia</option>
                                    <option value="string">Stringa</option>
                                    <option value="number">Numerica</option>
                                    <option value="date">Data</option>
                                  </select>
                            </td>
                            <td *ngIf="selectedDocument.optionalValues.name != det.name">           
                            <ng-container >
                                <b *ngIf="det.isRequired">(<span style="color: red;">*</span>)</b>
                                <b *ngIf="!det.isRequired">No</b>
                            </ng-container>
                            </td>  
                            <td *ngIf="selectedDocument.optionalValues.name === det.name &&
                                 selectedDocument.optionalValues.isRequired === det.isRequired &&
                                 selectedDocument.optionalValues.type === det.type">
                                 <input [ngModel]="selectedDocument.optionalValues.isRequired" class="form-check-input" type="checkbox" value="" id="isRequired">  
                            </td>
                            <td>
                            <div class="form-group button" style="display: flex;">
                                <div style="display: flex;
                                align-items: center;
                                margin-right: 20%;
                                margin-left: -15%;">
                                      <button (click)="editDocument(document.title, det)" class="btn btn-primary" type="submit"  style="    width: 40px;
                                      height: 40px;
                                      display: flex;
                                      align-items: center;
                                      justify-content: center;     background-color: #fff;
                                          border-color: #e6881e; "><span  class="material-symbols-outlined"
                                        style="color: #e6881e;
                                        cursor: pointer;
                                        font-size: 35px;
                                        font-weight: 700;">
                                        edit
                                      </span></button>
                                </div>
                                <div style="     display: flex;
                                      align-items: center;">
                                      <button class="btn btn-primary" style="    width: 40px;
                                      height: 40px;
                                      display: flex;
                                      align-items: center;
                                      justify-content: center;     background-color: #fff;
                                          border-color: #e6881e;"><span  class="material-symbols-outlined"
                                        style="color: #e6881e;
                                        cursor: pointer;
                                        font-size: 30px;
                                        font-weight: 700;">
                                        delete
                                      </span></button>
                                </div>
                              </div></td>
                        </tr>
                    </div>
                </td>
            </tr>
        </ng-container>
    </table>
    
</div>